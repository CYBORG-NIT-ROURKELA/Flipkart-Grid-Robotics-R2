import numpy as np
import cv2 as cv


dist=np.array([[-0.25378681 , 0.02657608 , 0.0302187 , -0.00403553 , 0.046275 ,]])
old_mtx=np.array([[ 387.51367505   , 0.,          318.92583391],
                    [   0.    ,      393.26409928  ,237.04613992],
                    [   0.     ,       0.    ,        1.        ]])
new_mtx=np.array([[ 335.03356934 ,   0. ,         313.84161596],
                    [   0.   ,       346.29098511 , 257.87514082],
                    [   0.     ,       0.      ,      1.        ]])


real_coords = {
    (0,0): [145,449],
    (0,1): [145,432],
    (1,0): [167,452],
    (1,1): [164,432],
    (2,0): [188,454],
    (2,1): [185,434],
    (3,0): [209,456],
    (3,1): [208,436],
    (4,0): [230,458],
    (4,1): [229,438],
    (5,0): [252,459],
    (5,1): [251,439],
    (6,0): [273,460],
    (6,1): [272,440],
    (7,0): [293,461],
    (7,1): [293,440],
    (8,0): [312,461],
    (8,1): [313,440],
    (9,0): [333,460],
    (9,1): [333,439],
    (10,0): [353,458],
    (10,1): [354,438],
    (11,0): [373,456],
    (11,1): [374,436],
    (12,0): [394,453],
    (12,1): [394,434],
    (13,0): [414,451],
    (13,1): [415,431],
    (14,0): [434,448],
    (14,1): [435,428]
}
print(real_coords[(0,0)])
def fix_feed(image):
    return cv.undistort(image, old_mtx, dist, None, new_mtx)